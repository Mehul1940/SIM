{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">{{ form_action }} Carrier</h1>
    
    {% if messages %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {% for message in messages %}
        <div>{{ message }}</div>
        {% endfor %}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endif %}

    <form method="post" class="card shadow-sm p-4">
        {% csrf_token %}
        
        <div class="mb-3">
            <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="name" name="name" 
                   value="{{ carrier.name|default:'' }}" required>
            <div class="form-text">Enter the carrier name.</div>
        </div>

        <div class="mb-3">
            <label for="code" class="form-label">Code <span class="text-danger">*</span></label>
            <div class="input-group">
                <input type="text" class="form-control" id="code" name="code" 
                       value="{{ carrier.code|default:'' }}" required minlength="2" maxlength="10">
                <span class="input-group-text"></span>
            </div>
            <div class="form-text">Enter the carrier code (min 2, max 10 characters).</div>
        </div>

        <div class="mb-3">
            <label for="support_email" class="form-label">Support Email</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                <input type="email" class="form-control" id="support_email" name="support_email" 
                       value="{{ carrier.support_email|default:'' }}">
            </div>
            <div class="form-text">Enter a valid email address.</div>
        </div>

        <div class="mb-3">
            <label for="support_phone" class="form-label">Support Phone</label>
            <div class="input-group">
                 <span class="input-group-text"><i class="fas fa-phone"></i></span>
                <input type="tel" class="form-control" id="support_phone" name="support_phone" 
                       value="{{ carrier.support_phone|default:'' }}">
            </div>
            <div class="form-text">Enter phone number.</div>
        </div>

        <div class="mb-3">
            <label for="website" class="form-label">Website</label>
             <div class="input-group">
                <span class="input-group-text"><i class="fas fa-globe"></i></span>
                <input type="url" class="form-control" id="website" name="website" 
                       value="{{ carrier.website|default:'' }}">
             </div>
            <div class="form-text">Enter a valid URL (e.g., https://example.com).</div>
        </div>

        <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="is_active" name="is_active" 
                   {% if carrier.is_active or form_action == 'Create' %}checked{% endif %}>
            <label class="form-check-label" for="is_active">Active</label>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-outline-primary me-2">Save</button>
            <a href="{% url 'carrier_list' %}" class="btn btn-outline-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
